var App={init:function(){removeInputIcons("input"),handleNumbersInput()}};$(document).ready(function(){App.init()});
function removeInputIcons(e){$(e).checkboxradio({icon:!1})}function alertBox(e,r){var t="";return t+='<div class="text-center alert alert-'+e+' fade show" role="alert">',t+=r,t+="</div>"}
var handleNumbersInput=function(){$("#number-input").on("submit",function(e){var t=$(this);if(e.preventDefault(),validateInputNumbers(t)){var n=t.serialize();$.ajax({url:"submit",type:"POST",data:n,beforeSend:function(){$(".main-results").removeClass("correct")},success:function(e){if(e.winningNumbers){t.append(alertBox("success",e.winningNumbers));var n=$("input:checked").map(function(e,n){return n.value}).get();markWinningNumbers(n,n.pop())}else e.verificationFailed?t.append(alertBox("danger",e.verificationFailed)):e.noResults?t.append(alertBox("danger",e.noResults)):e.notAwinningTicket&&t.append(alertBox("warning",e.notAwinningTicket))},error:function(){t.append(alertBox("danger","Dogodila se pogre≈°ka, probajte ponovo!"))},complete:function(){var e=t.attr("id");$("#"+e+" .alert").fadeOut(5e3)}})}})};function validateInputNumbers(e){return e.parsley({errorsWrapper:'<div class="text-danger text-center py-3 font-weight-bold"></div>',errorTemplate:"<span></span>"}).validate(),!!e.parsley().isValid()}function markWinningNumbers(n,e){$.each($(".main-results:not(#main-results-bonus) .digit"),function(e,t){var a=$(t).html();$.each(n,function(e,n){n==a&&$(t).parent().addClass("correct")})}),e==$("#main-results-bonus .digit").html()&&$("#main-results-bonus").addClass("correct")}